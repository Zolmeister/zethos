d();b.innerHTML+="<style>body{width:600px;margin:0 auto;font-family:Courier}#o{font-size:40px;border:2px solid;width:21rem;display:inline-block}#i{overflow:auto;padding:20px;width:600px;height:350px;border:1px solid}v{color:red}</style><br><br><button onclick=p()>Play</button><br><br><c id=o>.</c><br><br><p contenteditable id=i>Welcome to <a contenteditable=false href=//zethos.zolmeister.com>Zethos!</a> <br><br>This is a speed reading tool, inspired by Spritz who raised $3.5 million. <br>It's free and open source on <a contenteditable=false href=//github.com/Zolmeister/Zethos>GitHub.";
var e;k=function(n){m=function(a){with(a)return 7>=length?a:10>=length?slice(0,length-3)+"- "+slice(length-3):slice(0,7)+"- "+m(slice(7))};return n.trim().split(/[\s\n]+/).reduce(function(a,c){with(c){for(j=l=(length-1)/2|0;0<=j;j--)if(/[aeiou]/.test(c[j])){l=j;break}t=120;6<length&&(t+=t/4);~indexOf(",")&&(t+=t/2);/[\.!\?;]$/.test(c)&&(t+=1.5*t);return 15<=length||7<length-l?a.concat(k(m(c))):a.concat([[c,l,t]])}},[])};p=function(){f=0;g=k(i.textContent);(e=!e)&&h()};
h=function(){w=g[f++]||p();o.innerHTML=Array(8-w[1]).join("&nbsp;")+w[0].slice(0,w[1])+"<v>"+w[0][w[1]]+"</v>"+w[0].slice(w[1]+1);e&&setTimeout(h,w[2])};p();
